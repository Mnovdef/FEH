<!DOCTYPE html>
<html lang="en">


<script type="text/javascript">
	function showDefRes(that) {
		if (that.value == "1" || that.value == "2" || that.value == "11" || that.value == "12")  {
			// BONFIRE / IGNIS	    	
			document.getElementById("blueflamelabel").style.display = "none";
			document.getElementById("blueflamediv").style.display = "none";
			document.getElementById("defreslabel").style.display = "block";
			document.getElementById("defresinput").style.display = "block";
			document.getElementById("defresdiv").style.display = "block";
		} else if (that.value == "10") {
			// BLUE FLAME
			document.getElementById("blueflamelabel").style.display = "block";
			document.getElementById("blueflamediv").style.display = "block";
			document.getElementById("defreslabel").style.display = "none";
			document.getElementById("defresinput").style.display = "none";
			document.getElementById("defresdiv").style.display = "none";
		} else {
			// NO OPTIONS
			document.getElementById("blueflamelabel").style.display = "none";
			document.getElementById("blueflamediv").style.display = "none";
			document.getElementById("defreslabel").style.display = "none";
			document.getElementById("defresinput").style.display = "none";
			document.getElementById("defresdiv").style.display = "none";
		}
	}


	function calculate() {
		var atkstat = document.getElementById("atkstat").value == "" ? 0 : +document.getElementById("atkstat").value;
		var atkbuff = document.getElementById("atkbuff").value == "" ? 0 : +document.getElementById("atkbuff").value;
		var defstat = document.getElementById("defstat").value == "" ? 0 : +document.getElementById("defstat").value;
		var defbuff = document.getElementById("defbuff").value == "" ? 0 : +document.getElementById("defbuff").value;

		
		var atk = atkstat + atkbuff;
		var mit = defstat + defbuff;

		var eff = document.getElementById("effective").checked ? 1.5 : 1;


		var temp_radios = document.getElementsByName("triadv");
		for (var i=0; i<3; i++) {
			if (temp_radios[i].type === 'radio' && temp_radios[i].checked) {
				var adv = +temp_radios[i].value;
    		}
		}


		var aff = document.getElementById("ta3yes").checked ? 20 : 0


		var temp_specialSel = document.getElementById("specialsel");
		var specialid = +temp_specialSel.options[temp_specialSel.selectedIndex].value


		var defresspd = document.getElementById("defresinput").value == "" ? 0 : +document.getElementById("defresinput").value;


		var closetoally = document.getElementById("bfyes").checked ? 1 : 0;



		alert("atkstat = "       + atkstat + "        atkbuff = "       + atkbuff +
			"\ndefstat = "       + defstat + "        defbuff = "       + defbuff +
			"\nadv =     "       + adv +     "        aff = "           + aff +
			"\nspecialid = "     + specialid +
			"\ndefresspd = "     + defresspd +
			"\neff = "	         + eff + 
			"\nclose = "         + closetoally)




		var atkxeff = Math.floor(atk*eff);
		var advmult = adv * (aff+20)/20;
		var boost = 0;
		var deftileeff = 0;


		var extra = atkxeff*advmult + boost - mit - deftileeff;

		var untruncked = atkxeff + extra
		var damage = atkxeff + Math.floor(extra);

		alert("atkxeff = " + atkxeff + 
			"\nadvmult = " + advmult + 
			"\nextra = " + extra + 
			"\nuntruncked = " + untruncked + 
			"\ndamage = "   + damage);
	}





</script>



<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>FEH Calculator</title>

	<meta name="description" content="A simple damage calculator for FEH">
	<meta name="author" content="Mnovdef">


  	<link rel="shortcut icon" type="image/x-icon" href="https://feh-stuff.github.io/favicon.ico">
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">

</head>
<body>

	<div class="container-fluid" style="background: gray">


		<!-- NAVBAR -->
<!-- 		<div class="row ">
			<div class="col-xs-12 nav-fill">
				<ul class="nav nav-tabs">
					<li class="nav-item mr-auto">
						<a class="nav-link active">FEH Calculator</a>
					</li>
				<li class="nav-item">
						<a class="nav-link active">Support Me ❤️</a>
					</li>
				</ul>
			</div>
		</div>
	-->

		<!-- SEPARATOR -->
		<div class="row mb-3"></div>


		<!-- ATTACKER / DEFENDER -->
		<div class="row justify-content-between">
			<div class="col-xs-5 ml-2">
				<h3 style="text-align:right"><b>Attacker</b></h3>
			</div>
			<div class="col-xs-1">
				<img src="https://i.imgur.com/4igK4Ag.png" height="40" width="40" style="display: block;margin-left: auto;margin-right: auto;">
			</div>
			<div class="col-xs-1">
				<img src="https://i.imgur.com/xbFM3q1.png" height="40" width="40" style="display: block;margin-left: auto;margin-right: auto;">
			</div>
			<div class="col-xs-5 mr-2">
				<h3 style="text-align:left"><b>Defender</b></h3>
			</div>
		</div>


		<!-- SEPARATOR -->
		<div class="row mb-4"></div>


		<!-- ATTACK / DEFENSE -->
		<div class="row justify-content-center" style="align-items: center;">
			<div class="col-xs-2" style="align-items: center;">
				<label class="mr-2"><b>ATK</b></label>
			</div>
			<div class="col-xs-3 mr-2">						
				<input id="atkstat" type="number" min="0" max="9999" class="form-control input-sp-hm" data-type="sp" style="text-align:center">
			</div>

			<div class="col-xs-3 ml-2">						
				<input id="defstat" type="number" min="0" max="9999" class="form-control input-sp-hm" data-type="sp" style="text-align:center">
			</div>

			<div class="col-xs-2" style="align-items: center;">
				<label class="ml-2"><b>DEF</b></label>
			</div>
		</div>


		<!-- SEPARATOR -->
		<div class="row mb-2"></div>


		<!-- BUFFS -->
		<div class="row justify-content-center" style="align-items: center;">
			<div class="col-xs-2" style="align-items: center;">
				<label class="mr-2"><b>Buffs</b></label>
			</div>
			<div class="col-xs-3 mr-2">						
				<input id="atkbuff" type="number" min="0" max="9999" class="form-control input-sp-hm" data-type="sp" style="text-align:center">
			</div>

			<div class="col-xs-3 ml-2">						
				<input id="defbuff" type="number" min="0" max="9999" class="form-control input-sp-hm " data-type="sp" style="text-align:center">
			</div>

			<div class="col-xs-2"  style="align-items: center;">
				<label class="ml-2"><b>Buffs</b></label>
			</div>
		</div>


		<!-- SEPARATOR -->
		<div class="row mb-3"></div>


		<!-- TRIANGLE ADVANTAGE -->
		<div class="row mb-2 form-check justify-content-between" style="text-align: center;">
			<label class="col-xs-2 col-form-label mr-3">Triangle:</label>
			<label class="custom-control custom-radio">
				<input id="ta-adv" name="triadv" type="radio" class="custom-control-input" value="0.2">
				<span class="custom-control-indicator"></span>
				<span class="custom-control-description">Adv</span>
			</label>

			<label class="custom-control custom-radio">
				<input id="ta-neu" name="triadv" type="radio" class="custom-control-input" value="0" checked>
				<span class="custom-control-indicator"></span>
				<span class="custom-control-description">Neu</span>
			</label>

			<label class="custom-control custom-radio">
				<input id="ta-dis" name="triadv" type="radio" class="custom-control-input" value="-0.2">
				<span class="custom-control-indicator"></span>
				<span class="custom-control-description">Dis</span>
			</label>
		</div>



		<!-- TRIANGLE ADEPT 3 -->
		<div class="row mb-2 form-check justify-content-between" style="text-align: center;">
			<label class="col-xs-2 col-form-label mr-3">Triangle Adpet 3:</label>
			<label class="custom-control custom-radio">
				<input id="ta3yes" name="ta3" type="radio" class="custom-control-input">
				<span class="custom-control-indicator"></span>
				<span class="custom-control-description">Yes</span>
			</label>

			<label class="custom-control custom-radio">
				<input id="ta3no" name="ta3" type="radio" class="custom-control-input" checked>
				<span class="custom-control-indicator"></span>
				<span class="custom-control-description">No</span>
			</label>
		</div>



		<!-- SEPARATOR -->
		<hr>
		<div class="row mb-1"></div>



		<!-- SPECIALS TITLES -->
		<div class="row justify-content-center">
			<div class="col-xs-4">
				<img src="https://i.imgur.com/3hHEKqi.png" height="40" width="40" style="display: block;margin-left: auto;">
			</div>
			<div class="col-xs-4 ml-3 mr-3">
				<h3 style="text-align:center;"><b>Atk Special</b></h3>
			</div>
			<div class="col-xs-4">
				<img src="https://i.imgur.com/3hHEKqi.png" height="40" width="40" style="display: block;margin-right:auto;">

			</div>
		</div>



		<!-- SEPARATOR -->
		<div class="row mb-3"></div>



		<!-- SPECIAL SELECTIONS -->
		<div class="row justify-content-center" style="margin: 0 auto; float:none">
			<select id="specialsel" onchange="showDefRes(this)" class="col-xs-6 form-control">
				<option value="0">None</option>
				<option value="1">Bonfire / Iceberg</option>
				<option value="2">Ignis / Glacies</option>
				<option value="3">Draconic Aura</option>
				<option value="4">Dragon Fang</option>
				<option value="5">Moonbow</option>
				<option value="6">Luna</option>
				<option value="7">Black Luna</option>
				<option value="8">Glimmer</option>
				<option value="9">Astra</option>
				<option value="10">Blue Flame</option>
				<option value="11">Fire Emblem</option>
				<option value="12">Regnal Astra</option>
			</select>
		</div>


<!-- 			<div class="col-xs-6">
				<div class="row justify-content-between">
					<div class="col-xs-4"></div>
					<select class="col-xs-4 form-control" id="exampleFormControlSelect1">
						<option>None</option>
						<option>Pavise / Aegis</option>
						<option>Escutcheon / Sacred Cowl</option>
					</select>
					<div class="col-xs-4"></div>
				</div>
			</div> -->



		<!-- SEPARATOR -->
		<div class="row mb-3"></div>



		<!-- SPECIAL OPTIONS -->
		<div class="row justify-content-center">

			<!-- BONFIRE ETC -->
			<label id="defreslabel" class="col-xs-3 col-form-label mr-3" style="text-align: right; display: none">DEF / RES / SPD</label>			

			<div id="defresdiv" class="col-xs-3">						
				<input id="defresinput" type="number" min="0" max="9999" class="form-control input-sp-hm" data-type="sp" style="display: none; text-align: center">
			</div>


			<!-- BLUE FLAME -->
			<label id="blueflamelabel" class="col-xs-3 col-form-label mr-3" style="text-align: right; display:none;">Close to ally:</label>			

			<div id="blueflamediv" class="col-xs-3 col-form-label justify-content-between" style="vertical-align: middle; text-align: center; display: none;">						
				<label class="col-xs-1 custom-control custom-radio">
					<input id="bfyes" name="bf" type="radio" class="col-xs-1 custom-control-input">
					<span class="custom-control-indicator"></span>
					<span class="custom-control-description">Yes</span>
				</label>

				<label class="custom-control custom-radio">
					<input id="bfno" name="bf" type="radio" class="col-xs-1 custom-control-input" checked>
					<span class="custom-control-indicator"></span>
					<span class="custom-control-description">No</span>
				</label>
			</div>
		</div>



		<!-- SEPARATOR -->
		<hr>
		<div class="row mb-1"></div>



		<!-- OPTIONS TITLE -->
		<div class="row justify-content-center">
			<div class="col-xs-4">
				<img src="https://i.imgur.com/Q7Q4Um7.png" height="40" width="40" style="display: block;margin-left: auto;">
			</div>
			<div class="col-xs-4 ml-3 mr-3">
				<h3 style="text-align:center;"><b>Options</b></h3>
			</div>
			<div class="col-xs-4">
				<img src="https://i.imgur.com/Q7Q4Um7.png" height="40" width="40" style="display: block;margin-right:auto;">

			</div>
		</div>



		<!-- SEPARATOR -->
		<div class="row mb-3"></div>



		<!-- OPTIONS -->
		<div class="row justify-content-around">
			<div class="col-xs-4 justify-content-center">
				<label style="font-size: 18px">
					<input type="checkbox" name="vehicle1" id="effective" style="margin-right:5px; vertical-align: center">Effective
				</label><br>
				<label style="font-size: 18px">
					<input type="checkbox" name="vehicle1" value="Shining" style="margin-right:5px; vertical-align: center">Shining
				</label><br>
			</div>
			<div class="col-xs-4 justify-content-center">
					<label style="font-size: 18px">
						<input type="checkbox" name="vehicle1" value="Bike" style="margin-right:5px; vertical-align: center">Wrath
					</label><br>
					<label style="font-size: 18px">
						<input type="checkbox" name="vehicle1" value="Bike" style="margin-right:5px; vertical-align: center">Wo Weapon
					</label><br>
			</div>
			<div class="col-xs-4 justify-content-center">
				<label style="font-size: 18px">
					<input type="checkbox" name="vehicle1" value="Bike" style="margin-right:5px; vertical-align: center">Staff
				</label><br>
				<label style="font-size: 18px">
					<input type="checkbox" name="vehicle1" value="Bike" style="margin-right:5px; vertical-align: center">Defense Tile
				</label><br>
			</div>
		</div>



		<hr>


		<!-- SEPARATOR -->
		<div class="row mb-1"></div>




		<div class="row justify-content-center">
			<div class="col-xs-4 mr-3 ml-auto justify-content-center" style="background: red;">
				<button onclick="calculate()" type="button" class="btn btn-primary" style="position: relative">Button</button>
			</div>
			<div class="col-xs-8 ml-3 mr-auto justify-content-center">
				<label style="position: relative; font-size: 20px"><b>assssfffffffffffffffffffs</b></label>
			</div>
			
		</div>





	</div>


<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/scripts.js"></script>
</body>
</html>
